<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi perfil</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<h1 class="titulo-perfil">Mi perfil</h1>
<div class="perfil-flex">
  <div class="contenedor-perfil">

      <button class="carta-perfil" onclick="window.location.href='ver-estado-cuenta.html'" title="Ver y editar información personal">
        Ver estado de cuenta
      </button>
      <button class="carta-perfil" onclick="window.location.href='editar-informacion-personal.html'" title="Ver y editar información personal">
        Editar información personal
      </button>
      <button class="carta-perfil cerrar-seccion" onclick="confirmarCerrarSesion()">
        Cerrar sesión
      </button>
      <button class="carta-perfil cerrar-cuenta" onclick="confirmarEliminacion()">
        Eliminar cuenta permanentemente
      </button>

  </div>
</div>
<script>
function confirmarCerrarSesion() {
  if (confirm("¿Deseas cerrar sesión?")) {
    // Aquí iría fetch o petición al servidor
    window.location.href = "index.html";
  }
}

function confirmarEliminacion() {
  const advertencia = confirm(
    "⚠️ Esta acción eliminará tu cuenta PERMANENTEMENTE.\n\n¿Deseas continuar?"
  );

  if (!advertencia) return;

  const codigo = prompt("Escribe ELIMINAR para confirmar:");

  if (codigo === "ELIMINAR") {
    
    // Aquí debería ir un fetch al servidor
    fetch("eliminar-cuenta.php", {
      method: "POST"
    })
    .then(res => res.text())
    .then(data => {
      alert("Cuenta eliminada definitivamente.");
      window.location.href = "index.html";
    });

  } else {
    alert("Confirmación incorrecta. La cuenta NO fue eliminada.");
  }
}
</script>
<script src="nav-loader.js"></script>
</body>
</html>
